{"failedCount":3,"prefixedPath":"classpath:features\/E2E-product.feature","packageQualifiedName":"features.E2E-product","loopIndex":-1,"relativePath":"features\/E2E-product.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3119300,"startTime":1763306945587,"endTime":1763306945590,"millis":3.1193,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":12528800,"startTime":1763306945595,"endTime":1763306945608,"millis":12.5288,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def payload = read('classpath:data\/product-data.json')"}},{"result":{"nanos":862300,"startTime":1763306945607,"endTime":1763306945608,"millis":0.8623,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure headers = { 'Content-Type': 'application\/json; charset=UTF-8' }"}},{"result":{"nanos":980500,"startTime":1763306945609,"endTime":1763306945610,"millis":0.9805,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"path 'objects'"}},{"result":{"nanos":891800,"startTime":1763306945610,"endTime":1763306945611,"millis":0.8918,"status":"passed"},"step":{"line":13,"prefix":"And","index":1,"text":"request { \"name\": \"Apple MacBook Pro 17\", \"data\": { \"year\": 2020, \"price\": 800.99, \"CPU model\": \"Intel Core i5\", \"Hard disk size\": \"1 TB\" } }"}},{"result":{"nanos":1788505500,"startTime":1763306945611,"endTime":1763306947400,"millis":1788.5055,"status":"passed"},"step":{"line":14,"prefix":"When","index":2,"text":"method post"},"stepLog":"12:29:06.215 request:\n1 > POST https:\/\/api.restful-api.dev\/objects\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 119\n1 > Host: api.restful-api.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/25)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"name\": \"Apple MacBook Pro 17\",\n  \"data\": {\n    \"year\": 2020,\n    \"price\": 800.99,\n    \"CPU model\": \"Intel Core i5\",\n    \"Hard disk size\": \"1 TB\"\n  }\n}\n\n\n12:29:07.396 response time in milliseconds: 1174\n1 < 405\n1 < Date: Sun, 16 Nov 2025 15:29:07 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Server: cloudflare\n1 < Nel: {\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < cf-cache-status: DYNAMIC\n1 < Server-Timing: cfCacheStatus;desc=\"DYNAMIC\"\n1 < Server-Timing: cfEdge;dur=292,cfOrigin;dur=75\n1 < Report-To: {\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https:\/\/a.nel.cloudflare.com\/report\/v4?s=d4sbsJ074p2HIfdNlOnxx5c5ppz6ZEfOLcr9rcOHRpvejRptj28608HxPj7IiAPrM%2FAKzwtRJqSt10FLjUD74F%2FzmsIq3IGo5%2FSd%2Fn4zBAVcT5I%3D\"}]}\n1 < CF-RAY: 99f805a2e961e0ff-GIG\n1 < alt-svc: h3=\":443\"; ma=86400\n{\n  \"error\": \"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"\n}\n\n\n"},{"result":{"nanos":10345400,"errorMessage":"status code was: 405, expected: 200, response time in milliseconds: 1174, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","startTime":1763306947400,"endTime":1763306947410,"millis":10.3454,"status":"failed"},"step":{"line":15,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"12:29:07.411 classpath:features\/E2E-product.feature:15\nThen status 200\nstatus code was: 405, expected: 200, response time in milliseconds: 1174, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15\n"},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"And","index":4,"text":"match response.id == '#string'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"And","index":5,"text":"match response.name == '#string'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"And","index":6,"text":"match response.data.year == '#number'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.data.price == '#? _ > 0'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.data.['CPU model'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"And","index":9,"text":"match response.data.['Hard disk size'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":10,"text":"def objectId = response.id"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"*","index":11,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Given","index":12,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":13,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"When","index":14,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":16,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":17,"text":"match response[0].name == '#string'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":18,"text":"match response[0].data == '#object'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"*","index":19,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":20,"text":"set payload.name = 'Dell 3000'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"*","index":21,"text":"set payload.data.year = 2023"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":22,"text":"set payload.data.price = 1200.3"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"*","index":23,"text":"set payload.data.CPUmodel = 'Intel i8'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":24,"text":"set payload.data.hardDiskSize = '20 TB'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":25,"text":"print 'Payload para PUT:', payload"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Given","index":26,"text":"path 'objects', objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":27,"text":"request payload"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"When","index":28,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"Then","index":29,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"*","index":30,"text":"match response.id == objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":31,"text":"match response.name == 'Dell 3000'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"*","index":32,"text":"match response.data.year == 2023"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"*","index":33,"text":"match response.data.price == 1200.3"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":34,"text":"match response.data.CPUmodel == 'Intel i8'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"*","index":35,"text":"match response.data.hardDiskSize == '20 TB'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"Given","index":36,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":37,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":38,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":39,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":40,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":41,"text":"match response[0].name == 'Dell 3000'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":42,"text":"match response[0].data.year == 2023"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"And","index":43,"text":"match response[0].data.price == 1200.3"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":62,"prefix":"And","index":44,"text":"match response[0].data.CPUmodel == 'Intel i8'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":63,"prefix":"And","index":45,"text":"match response[0].data.hardDiskSize == '20 TB'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":67,"prefix":"*","index":46,"text":"def targetId = 'objectId'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"*","index":47,"text":"def before = response"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"*","index":48,"text":"print 'Producto ANTES del PATCH =>', before"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"*","index":49,"text":"def patchField = 'name'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"*","index":50,"text":"def patchValue = 'Apple 30'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"endLine":83,"line":75,"prefix":"*","docString":"function(field, value){\n  if (field === 'name') return { name: value };\n  var o = {};\n  o[field] = value;\n  return { data: o };\n}","index":51,"text":"def patchBody ="}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"*","index":52,"text":"def body = patchBody(patchField, patchValue)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"*","index":53,"text":"print 'PATCH body =>', body"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"Given","index":54,"text":"path 'objects', targetId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":55,"text":"request body"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"When","index":56,"text":"method PATCH"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"Then","index":57,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"Given","index":58,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"And","index":59,"text":"param id = targetId"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"When","index":60,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"Then","index":61,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":97,"prefix":"*","index":62,"text":"match response == '#[1]'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":98,"prefix":"*","index":63,"text":"def after = response[0]"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"*","index":64,"text":"if (patchField === 'name') karate.match(after.name, patchValue)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"*","index":65,"text":"if (patchField !== 'name') karate.match(after.data[patchField], patchValue)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"*","index":66,"text":"if (patchField !== 'name' && before.name) karate.match(after.name, before.name)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"*","index":67,"text":"if (patchField === 'name' && before.data) karate.match(after.data, '#object')"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":111,"prefix":"Given","index":68,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"When","index":69,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"Then","index":70,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"*","index":71,"text":"match response == '#[]'"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"*","index":72,"text":"def products = response"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":118,"prefix":"*","index":73,"text":"match each products contains { id: '#string', name: '#string', data: '##object' }"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":120,"prefix":"*","index":74,"text":"def ids = products.map(x => x.id)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":122,"prefix":"*","index":75,"text":"def uniqueIds = karate.distinct(ids)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"*","index":76,"text":"if (ids.length != uniqueIds.length) karate.fail('❌ IDs duplicados en listado')"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"*","index":77,"text":"karate.forEach(ids, function(v){ if (!\/^[0-9]+$\/.test(v)) karate.fail('❌ ID no numérico: ' + v) })"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"endLine":135,"line":128,"prefix":"*","docString":"function(item){\n  if (item.data && typeof item.data.price === 'number' && !(item.data.price > 0)) {\n    karate.fail('❌ price inválido para id=' + item.id + ' -> ' + item.data.price);\n  }\n}","index":78,"text":"def dataPrice ="}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":136,"prefix":"*","index":79,"text":"karate.forEach(products, dataPrice)"}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"endLine":150,"line":139,"prefix":"*","docString":"function(item){\n  if (item.data && item.data['capacity GB'] !== undefined && typeof item.data['capacity GB'] !== 'number') {\n    karate.fail('❌ capacity GB debe ser number en id=' + item.id);\n  }\n  if (item.data && item.data['Screen size'] !== undefined && typeof item.data['Screen size'] !== 'number') {\n    karate.fail('❌ Screen size debe ser number en id=' + item.id);\n  }\n}","index":80,"text":"def dataCapacityScreenSize ="}},{"result":{"nanos":0,"startTime":1763306947412,"endTime":1763306947412,"millis":0.0,"status":"skipped"},"step":{"line":152,"prefix":"*","index":81,"text":"karate.forEach(products,dataCapacityScreenSize)"}}],"line":157,"description":"","durationMillis":1817.2336,"failed":true,"error":"status code was: 405, expected: 200, response time in milliseconds: 1174, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","executorName":"main","name":"Flujo completo de creación y actualización de un producto usando PUT y PATCH","startTime":1763306945409,"refId":"[1.1:157]","endTime":1763306947412,"exampleData":{"initialName":"Apple MacBook Pro 17","initialYear":2020,"initialPrice":800.99,"initialCPUModel":"Intel Core i5","initialHardDisk":"1 TB","putName":"Dell 3000","putYear":2023,"putPrice":1200.3,"putCpu":"Intel i8","putDisk":"20 TB","patchField":"name","patchValue":"Apple 30"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":1603700,"startTime":1763306947492,"endTime":1763306947494,"millis":1.6037,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":5212400,"startTime":1763306947494,"endTime":1763306947499,"millis":5.2124,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def payload = read('classpath:data\/product-data.json')"}},{"result":{"nanos":609900,"startTime":1763306947501,"endTime":1763306947502,"millis":0.6099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure headers = { 'Content-Type': 'application\/json; charset=UTF-8' }"}},{"result":{"nanos":889700,"startTime":1763306947501,"endTime":1763306947502,"millis":0.8897,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"path 'objects'"}},{"result":{"nanos":741600,"startTime":1763306947502,"endTime":1763306947503,"millis":0.7416,"status":"passed"},"step":{"line":13,"prefix":"And","index":1,"text":"request { \"name\": \"Apple MacBook Pro 18\", \"data\": { \"year\": 2021, \"price\": 950, \"CPU model\": \"Intel Core i6\", \"Hard disk size\": \"2 TB\" } }"}},{"result":{"nanos":545571500,"startTime":1763306947503,"endTime":1763306948049,"millis":545.5715,"status":"passed"},"step":{"line":14,"prefix":"When","index":2,"text":"method post"},"stepLog":"12:29:07.506 request:\n1 > POST https:\/\/api.restful-api.dev\/objects\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 116\n1 > Host: api.restful-api.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/25)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"name\": \"Apple MacBook Pro 18\",\n  \"data\": {\n    \"year\": 2021,\n    \"price\": 950,\n    \"CPU model\": \"Intel Core i6\",\n    \"Hard disk size\": \"2 TB\"\n  }\n}\n\n\n12:29:08.044 response time in milliseconds: 535\n1 < 405\n1 < Date: Sun, 16 Nov 2025 15:29:08 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Server: cloudflare\n1 < Nel: {\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < cf-cache-status: DYNAMIC\n1 < Server-Timing: cfCacheStatus;desc=\"DYNAMIC\"\n1 < Server-Timing: cfEdge;dur=279,cfOrigin;dur=65\n1 < Report-To: {\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https:\/\/a.nel.cloudflare.com\/report\/v4?s=w9e3XaxXe4WS8v1Oc%2BcByM3does1lDRNunj3T6UumRZ9%2BuncYnJg2WIJI4d0qqFMOYerw4iAKOcgTOJmo0ZEGye57HOMHALGffMhJynHdtYmJKs%3D\"}]}\n1 < CF-RAY: 99f805a74841ca62-GIG\n1 < alt-svc: h3=\":443\"; ma=86400\n{\n  \"error\": \"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"\n}\n\n\n"},{"result":{"nanos":147700,"errorMessage":"status code was: 405, expected: 200, response time in milliseconds: 535, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","startTime":1763306948049,"endTime":1763306948049,"millis":0.1477,"status":"failed"},"step":{"line":15,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"12:29:08.049 classpath:features\/E2E-product.feature:15\nThen status 200\nstatus code was: 405, expected: 200, response time in milliseconds: 535, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15\n"},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"And","index":4,"text":"match response.id == '#string'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"And","index":5,"text":"match response.name == '#string'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"And","index":6,"text":"match response.data.year == '#number'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.data.price == '#? _ > 0'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.data.['CPU model'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"And","index":9,"text":"match response.data.['Hard disk size'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":10,"text":"def objectId = response.id"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"*","index":11,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Given","index":12,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":13,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"When","index":14,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":16,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":17,"text":"match response[0].name == '#string'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":18,"text":"match response[0].data == '#object'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"*","index":19,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":20,"text":"set payload.name = 'Dell 3150'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"*","index":21,"text":"set payload.data.year = 2024"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":22,"text":"set payload.data.price = 1400"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"*","index":23,"text":"set payload.data.CPUmodel = 'Intel i9'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":24,"text":"set payload.data.hardDiskSize = '21 TB'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":25,"text":"print 'Payload para PUT:', payload"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Given","index":26,"text":"path 'objects', objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":27,"text":"request payload"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"When","index":28,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"Then","index":29,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"*","index":30,"text":"match response.id == objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":31,"text":"match response.name == 'Dell 3150'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"*","index":32,"text":"match response.data.year == 2024"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"*","index":33,"text":"match response.data.price == 1400"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":34,"text":"match response.data.CPUmodel == 'Intel i9'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"*","index":35,"text":"match response.data.hardDiskSize == '21 TB'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"Given","index":36,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":37,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":38,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":39,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":40,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":41,"text":"match response[0].name == 'Dell 3150'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":42,"text":"match response[0].data.year == 2024"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"And","index":43,"text":"match response[0].data.price == 1400"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":62,"prefix":"And","index":44,"text":"match response[0].data.CPUmodel == 'Intel i9'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":63,"prefix":"And","index":45,"text":"match response[0].data.hardDiskSize == '21 TB'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":67,"prefix":"*","index":46,"text":"def targetId = 'objectId'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"*","index":47,"text":"def before = response"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"*","index":48,"text":"print 'Producto ANTES del PATCH =>', before"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"*","index":49,"text":"def patchField = 'name'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"*","index":50,"text":"def patchValue = 'Apple 31'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"endLine":83,"line":75,"prefix":"*","docString":"function(field, value){\n  if (field === 'name') return { name: value };\n  var o = {};\n  o[field] = value;\n  return { data: o };\n}","index":51,"text":"def patchBody ="}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"*","index":52,"text":"def body = patchBody(patchField, patchValue)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"*","index":53,"text":"print 'PATCH body =>', body"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"Given","index":54,"text":"path 'objects', targetId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":55,"text":"request body"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"When","index":56,"text":"method PATCH"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"Then","index":57,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"Given","index":58,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"And","index":59,"text":"param id = targetId"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"When","index":60,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"Then","index":61,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":97,"prefix":"*","index":62,"text":"match response == '#[1]'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":98,"prefix":"*","index":63,"text":"def after = response[0]"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"*","index":64,"text":"if (patchField === 'name') karate.match(after.name, patchValue)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"*","index":65,"text":"if (patchField !== 'name') karate.match(after.data[patchField], patchValue)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"*","index":66,"text":"if (patchField !== 'name' && before.name) karate.match(after.name, before.name)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"*","index":67,"text":"if (patchField === 'name' && before.data) karate.match(after.data, '#object')"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":111,"prefix":"Given","index":68,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"When","index":69,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"Then","index":70,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"*","index":71,"text":"match response == '#[]'"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"*","index":72,"text":"def products = response"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":118,"prefix":"*","index":73,"text":"match each products contains { id: '#string', name: '#string', data: '##object' }"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":120,"prefix":"*","index":74,"text":"def ids = products.map(x => x.id)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":122,"prefix":"*","index":75,"text":"def uniqueIds = karate.distinct(ids)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"*","index":76,"text":"if (ids.length != uniqueIds.length) karate.fail('❌ IDs duplicados en listado')"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"*","index":77,"text":"karate.forEach(ids, function(v){ if (!\/^[0-9]+$\/.test(v)) karate.fail('❌ ID no numérico: ' + v) })"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"endLine":135,"line":128,"prefix":"*","docString":"function(item){\n  if (item.data && typeof item.data.price === 'number' && !(item.data.price > 0)) {\n    karate.fail('❌ price inválido para id=' + item.id + ' -> ' + item.data.price);\n  }\n}","index":78,"text":"def dataPrice ="}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":136,"prefix":"*","index":79,"text":"karate.forEach(products, dataPrice)"}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"endLine":150,"line":139,"prefix":"*","docString":"function(item){\n  if (item.data && item.data['capacity GB'] !== undefined && typeof item.data['capacity GB'] !== 'number') {\n    karate.fail('❌ capacity GB debe ser number en id=' + item.id);\n  }\n  if (item.data && item.data['Screen size'] !== undefined && typeof item.data['Screen size'] !== 'number') {\n    karate.fail('❌ Screen size debe ser number en id=' + item.id);\n  }\n}","index":80,"text":"def dataCapacityScreenSize ="}},{"result":{"nanos":0,"startTime":1763306948050,"endTime":1763306948050,"millis":0.0,"status":"skipped"},"step":{"line":152,"prefix":"*","index":81,"text":"karate.forEach(products,dataCapacityScreenSize)"}}],"line":157,"description":"","durationMillis":554.7765,"failed":true,"error":"status code was: 405, expected: 200, response time in milliseconds: 535, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","executorName":"main","name":"Flujo completo de creación y actualización de un producto usando PUT y PATCH","startTime":1763306947481,"refId":"[1.2:157]","endTime":1763306948050,"exampleData":{"initialName":"Apple MacBook Pro 18","initialYear":2021,"initialPrice":950,"initialCPUModel":"Intel Core i6","initialHardDisk":"2 TB","putName":"Dell 3150","putYear":2024,"putPrice":1400,"putCpu":"Intel i9","putDisk":"21 TB","patchField":"name","patchValue":"Apple 31"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":536400,"startTime":1763306948088,"endTime":1763306948089,"millis":0.5364,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":2161000,"startTime":1763306948088,"endTime":1763306948090,"millis":2.161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def payload = read('classpath:data\/product-data.json')"}},{"result":{"nanos":421100,"startTime":1763306948091,"endTime":1763306948091,"millis":0.4211,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"configure headers = { 'Content-Type': 'application\/json; charset=UTF-8' }"}},{"result":{"nanos":364700,"startTime":1763306948091,"endTime":1763306948091,"millis":0.3647,"status":"passed"},"step":{"line":12,"prefix":"Given","index":0,"text":"path 'objects'"}},{"result":{"nanos":855600,"startTime":1763306948091,"endTime":1763306948092,"millis":0.8556,"status":"passed"},"step":{"line":13,"prefix":"And","index":1,"text":"request { \"name\": \"Apple MacBook Pro 19\", \"data\": { \"year\": 2022, \"price\": 1100.78, \"CPU model\": \"Intel Core i7\", \"Hard disk size\": \"3 TB\" } }"}},{"result":{"nanos":598234500,"startTime":1763306948092,"endTime":1763306948690,"millis":598.2345,"status":"passed"},"step":{"line":14,"prefix":"When","index":2,"text":"method post"},"stepLog":"12:29:08.096 request:\n1 > POST https:\/\/api.restful-api.dev\/objects\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 120\n1 > Host: api.restful-api.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/25)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"name\": \"Apple MacBook Pro 19\",\n  \"data\": {\n    \"year\": 2022,\n    \"price\": 1100.78,\n    \"CPU model\": \"Intel Core i7\",\n    \"Hard disk size\": \"3 TB\"\n  }\n}\n\n\n12:29:08.689 response time in milliseconds: 591\n1 < 405\n1 < Date: Sun, 16 Nov 2025 15:29:08 GMT\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Server: cloudflare\n1 < Nel: {\"report_to\":\"cf-nel\",\"success_fraction\":0.0,\"max_age\":604800}\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < cf-cache-status: DYNAMIC\n1 < Server-Timing: cfCacheStatus;desc=\"DYNAMIC\"\n1 < Server-Timing: cfEdge;dur=315,cfOrigin;dur=61\n1 < Report-To: {\"group\":\"cf-nel\",\"max_age\":604800,\"endpoints\":[{\"url\":\"https:\/\/a.nel.cloudflare.com\/report\/v4?s=141fA19tIcoTDCJyc129AXuErf8LuIEB0Z2ulyTNUrJAiS50e3MHxcwgz%2FevDkcxKIvPIUZ06QjP7uZGo08GndiS6QGWl3VGD5oj%2F%2F8W4mkzHh0%3D\"}]}\n1 < CF-RAY: 99f805ab1b3101cf-GRU\n1 < alt-svc: h3=\":443\"; ma=86400\n{\n  \"error\": \"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"\n}\n\n\n"},{"result":{"nanos":97400,"errorMessage":"status code was: 405, expected: 200, response time in milliseconds: 591, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","startTime":1763306948691,"endTime":1763306948691,"millis":0.0974,"status":"failed"},"step":{"line":15,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"12:29:08.691 classpath:features\/E2E-product.feature:15\nThen status 200\nstatus code was: 405, expected: 200, response time in milliseconds: 591, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15\n"},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":16,"prefix":"And","index":4,"text":"match response.id == '#string'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"And","index":5,"text":"match response.name == '#string'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"And","index":6,"text":"match response.data.year == '#number'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"And","index":7,"text":"match response.data.price == '#? _ > 0'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":8,"text":"match response.data.['CPU model'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"And","index":9,"text":"match response.data.['Hard disk size'] == '#string'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":10,"text":"def objectId = response.id"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"*","index":11,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"Given","index":12,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":13,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"When","index":14,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":16,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"And","index":17,"text":"match response[0].name == '#string'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":18,"text":"match response[0].data == '#object'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"*","index":19,"text":"print response"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":20,"text":"set payload.name = 'Dell 5000'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"*","index":21,"text":"set payload.data.year = 2025"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"*","index":22,"text":"set payload.data.price = 1600"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"*","index":23,"text":"set payload.data.CPUmodel = 'Intel i10'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"*","index":24,"text":"set payload.data.hardDiskSize = '22 TB'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"*","index":25,"text":"print 'Payload para PUT:', payload"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"Given","index":26,"text":"path 'objects', objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":27,"text":"request payload"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"When","index":28,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"Then","index":29,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"*","index":30,"text":"match response.id == objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"*","index":31,"text":"match response.name == 'Dell 5000'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":48,"prefix":"*","index":32,"text":"match response.data.year == 2025"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":49,"prefix":"*","index":33,"text":"match response.data.price == 1600"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":50,"prefix":"*","index":34,"text":"match response.data.CPUmodel == 'Intel i10'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":51,"prefix":"*","index":35,"text":"match response.data.hardDiskSize == '22 TB'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"Given","index":36,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"And","index":37,"text":"param id = objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"When","index":38,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"Then","index":39,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":58,"prefix":"And","index":40,"text":"match response[0].id == objectId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":59,"prefix":"And","index":41,"text":"match response[0].name == 'Dell 5000'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"And","index":42,"text":"match response[0].data.year == 2025"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"And","index":43,"text":"match response[0].data.price == 1600"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":62,"prefix":"And","index":44,"text":"match response[0].data.CPUmodel == 'Intel i10'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":63,"prefix":"And","index":45,"text":"match response[0].data.hardDiskSize == '22 TB'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":67,"prefix":"*","index":46,"text":"def targetId = 'objectId'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":68,"prefix":"*","index":47,"text":"def before = response"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"*","index":48,"text":"print 'Producto ANTES del PATCH =>', before"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"*","index":49,"text":"def patchField = 'price'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":74,"prefix":"*","index":50,"text":"def patchValue = '399.6'"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"endLine":83,"line":75,"prefix":"*","docString":"function(field, value){\n  if (field === 'name') return { name: value };\n  var o = {};\n  o[field] = value;\n  return { data: o };\n}","index":51,"text":"def patchBody ="}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"*","index":52,"text":"def body = patchBody(patchField, patchValue)"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"*","index":53,"text":"print 'PATCH body =>', body"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"Given","index":54,"text":"path 'objects', targetId"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":88,"prefix":"And","index":55,"text":"request body"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":89,"prefix":"When","index":56,"text":"method PATCH"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"Then","index":57,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948691,"endTime":1763306948691,"millis":0.0,"status":"skipped"},"step":{"line":93,"prefix":"Given","index":58,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":94,"prefix":"And","index":59,"text":"param id = targetId"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":95,"prefix":"When","index":60,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":96,"prefix":"Then","index":61,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":97,"prefix":"*","index":62,"text":"match response == '#[1]'"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":98,"prefix":"*","index":63,"text":"def after = response[0]"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"*","index":64,"text":"if (patchField === 'name') karate.match(after.name, patchValue)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"*","index":65,"text":"if (patchField !== 'name') karate.match(after.data[patchField], patchValue)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"*","index":66,"text":"if (patchField !== 'name' && before.name) karate.match(after.name, before.name)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"*","index":67,"text":"if (patchField === 'name' && before.data) karate.match(after.data, '#object')"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":111,"prefix":"Given","index":68,"text":"path 'objects'"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"When","index":69,"text":"method GET"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"Then","index":70,"text":"status 200"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":114,"prefix":"*","index":71,"text":"match response == '#[]'"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":115,"prefix":"*","index":72,"text":"def products = response"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":118,"prefix":"*","index":73,"text":"match each products contains { id: '#string', name: '#string', data: '##object' }"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":120,"prefix":"*","index":74,"text":"def ids = products.map(x => x.id)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":122,"prefix":"*","index":75,"text":"def uniqueIds = karate.distinct(ids)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"*","index":76,"text":"if (ids.length != uniqueIds.length) karate.fail('❌ IDs duplicados en listado')"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"*","index":77,"text":"karate.forEach(ids, function(v){ if (!\/^[0-9]+$\/.test(v)) karate.fail('❌ ID no numérico: ' + v) })"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"endLine":135,"line":128,"prefix":"*","docString":"function(item){\n  if (item.data && typeof item.data.price === 'number' && !(item.data.price > 0)) {\n    karate.fail('❌ price inválido para id=' + item.id + ' -> ' + item.data.price);\n  }\n}","index":78,"text":"def dataPrice ="}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":136,"prefix":"*","index":79,"text":"karate.forEach(products, dataPrice)"}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"endLine":150,"line":139,"prefix":"*","docString":"function(item){\n  if (item.data && item.data['capacity GB'] !== undefined && typeof item.data['capacity GB'] !== 'number') {\n    karate.fail('❌ capacity GB debe ser number en id=' + item.id);\n  }\n  if (item.data && item.data['Screen size'] !== undefined && typeof item.data['Screen size'] !== 'number') {\n    karate.fail('❌ Screen size debe ser number en id=' + item.id);\n  }\n}","index":80,"text":"def dataCapacityScreenSize ="}},{"result":{"nanos":0,"startTime":1763306948692,"endTime":1763306948692,"millis":0.0,"status":"skipped"},"step":{"line":152,"prefix":"*","index":81,"text":"karate.forEach(products,dataCapacityScreenSize)"}}],"line":157,"description":"","durationMillis":602.6707,"failed":true,"error":"status code was: 405, expected: 200, response time in milliseconds: 591, url: https:\/\/api.restful-api.dev\/objects, response: \n{\"error\":\"We are very sorry but you reached your limit of requests per day. Our current limit is equal to 100 requests per day. The reason for that is the fact that servers cost money and 200 requests per user per day is all that we can afford at the moment. Tomorrow the limit will reset and you will be able to continue. Thanks and have a good day!\"}\nclasspath:features\/E2E-product.feature:15","executorName":"main","name":"Flujo completo de creación y actualización de un producto usando PUT y PATCH","startTime":1763306948082,"refId":"[1.3:157]","endTime":1763306948692,"exampleData":{"initialName":"Apple MacBook Pro 19","initialYear":2022,"initialPrice":1100.78,"initialCPUModel":"Intel Core i7","initialHardDisk":"3 TB","putName":"Dell 5000","putYear":2025,"putPrice":1600,"putCpu":"Intel i10","putDisk":"22 TB","patchField":"price","patchValue":399.6},"exampleIndex":2}],"callDepth":0,"name":"CRUD parcial sobre productos","description":"","resultDate":"2025-11-16 12:29:08 PM","durationMillis":2974.6808,"passedCount":0}